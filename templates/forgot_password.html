{% extends "base.html" %}

{% block title %}Reset Password - {{ super() }}{% endblock %}

{% block head %}
<style>
  .auth-shell {
    display: flex;
    align-items: center;
    justify-content: center;
    min-height: 70vh;
    padding: 24px;
  }
  .auth-card {
    background: var(--cully-white);
    border-radius: 16px;
    box-shadow: 0 14px 32px rgba(14,38,74,0.08);
    max-width: 520px;
    width: 100%;
    padding: 32px;
    text-align: center;
    border: 1px solid rgba(90, 127, 163, 0.1);
  }
  .auth-header {
    margin-bottom: 16px;
  }
  .auth-header h1 {
    margin: 0 0 6px;
    font-weight: 700;
    color: var(--cully-dark);
  }
  .auth-header p {
    margin: 0;
    color: #5f6c85;
  }
  .auth-form { margin-top: 20px; text-align: left; }
  .auth-form label { font-weight: 600; color: var(--cully-dark); display:block; margin-bottom:6px; }
  .auth-form input[type="email"] {
    width: 100%;
    padding: 14px;
    border-radius: 10px;
    border: 2px solid var(--cully-light-gray);
    font-size: 1rem;
    box-sizing: border-box;
  }
  .auth-form input:focus { border-color: var(--cully-blue); outline: none; box-shadow: 0 0 0 3px rgba(123,165,199,0.2); }
  .method-row { margin: 14px 0; display: grid; gap: 8px; }
  .method-option { display: flex; align-items: center; gap: 8px; }
  .method-option small { color: #5f6c85; display:block; margin-left: 26px; }
  .auth-btn {
    width: 100%;
    margin-top: 16px;
    padding: 14px;
    border-radius: 10px;
    border: none;
    background: linear-gradient(135deg, var(--cully-navy), var(--cully-blue));
    color: #fff;
    font-weight: 700;
    letter-spacing: 0.03em;
    cursor: pointer;
  }
  .auth-links { margin-top: 18px; text-align: center; color: #5f6c85; }
  .auth-links a { color: var(--cully-navy); font-weight: 700; text-decoration: none; }
  .auth-links a:hover { text-decoration: underline; }
</style>
{% endblock %}

{% block content %}
<div class="auth-shell">
  <div class="auth-card">
    <div class="auth-header">
      <h1>Reset your password</h1>
      <p>Choose how you’d like to reset: secure link or one-time code.</p>
    </div>
    <form class="auth-form" method="post" action="{{ url_for('auth.forgot_password') }}">
      {{ form.hidden_tag() if form else '' }}
      <label for="email">Email Address</label>
      <input type="email" id="email" name="email" placeholder="you@cully.ie" required>

      <div class="method-row">
        <div class="method-option">
          <input type="radio" id="method_link" name="reset_method" value="link" checked>
          <label for="method_link" style="margin:0;">Send me a reset link</label>
        </div>
        <small>We’ll email a one-click link valid for 1 hour.</small>
        <div class="method-option">
          <input type="radio" id="method_otp" name="reset_method" value="otp">
          <label for="method_otp" style="margin:0;">Send me a one-time code</label>
        </div>
        <small>We’ll email a 6-digit code valid for 10 minutes.</small>
      </div>

      <button type="submit" class="auth-btn">Send instructions</button>
    </form>
    <div class="auth-links">
      <p><a href="{{ url_for('auth.login') }}">Back to Login</a></p>
    </div>
  </div>
</div>
{% endblock %}
